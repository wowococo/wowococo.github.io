---
title: 生成器
excerpt: 生成器为什么可以用在协程里
date: 2021-05-12 17:26:04
tags:
---
## 概念
生成器是可以返回多次的函数，可以使用next()函数来获取生成器的下一个返回值，它不像[]包裹的列表生成式那样保存的是一个列表，列表中有很多元素，生成器保存的是算法，通过调用next(g)函数来计算生成器的下一个元素的值，直到最后没有更多的元素时，抛出 stopIteration 异常。

可以通过将列表生成式的 [] 改为 () 来创建一个生成器，也可以通过写一个带有 yield 关键字的函数来创建生成器。

生成器和普通函数的区别是：
普通函数是顺序执行，遇到return 关键字或者函数的最后一行时就返回；而生成器是调用next()函数就去执行，遇到 yield 关键字就返回，下次执行时从上次返回的地方继续。
